<project name="trie4j" default="dist">
	<target name="init">
		<mkdir dir="build" />
		<mkdir dir="dist" />
	</target>

	<target name="compile" depends="init">
		<javac destdir="build" srcdir="src" includeantruntime="false" />
		<javac destdir="build" srcdir="test" includeantruntime="false">
			<classpath path="lib/junit-4.10.jar" />
		</javac>
	</target>

	<target name="test" depends="compile">
		<junit printsummary="withOutAndErr" haltonfailure="yes" logfailedtests="true" showoutput="yes">
			<classpath>
				<pathelement path="lib/junit-4.10.jar" />
				<pathelement path="build" />
			</classpath>
			<test name="org.trie4j.AllTests" />
			<formatter type="xml"/>
		</junit>
	</target>
	
	<target name="dist" depends="test">
		<jar destfile="dist/tri4j-SNAPSHOT.jar" basedir="build" includes="**/*" />
	</target>
</project>
